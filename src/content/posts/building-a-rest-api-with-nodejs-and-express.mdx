---
title: "Building a REST API with Node.js and Express: The Definitive Guide"
excerpt: "Learn to build a robust, scalable, and secure REST API from scratch using Node.js and the Express framework. This guide covers everything from setting up your project to structuring routes, connecting to a database, and handling errors like a pro."
imageUrl: "https://placehold.co/600x400.png"
imageHint: "nodejs express api"
author: "Huzi"
category: "Programming"
---

Node.js has become the de-facto standard for building fast, scalable network applications. Paired with **Express.js**, a minimalist web framework, it provides a powerful foundation for building RESTful APIs.

In this guide, we will walk through the architecture of a production-ready API.

## 1. Project Setup
First, initialize your project and install the necessary dependencies (`express`, `cors`, `dotenv`).
```bash
npm init -y
npm install express cors dotenv
```

## 2. Basic Server Structure
Create an `index.js` file. This is your entry point.
```javascript
const express = require('express');
const app = express();
const PORT = process.env.PORT || 3000;

app.use(express.json()); // Middleware to parse JSON bodies

app.get('/', (req, res) => {
  res.send('API is running...');
});

app.listen(PORT, () => console.log(`Server running on port ${PORT}`));
```

## 3. MVC Architecture (Model-View-Controller)
Don't dump all your code in one file. Organize it:
- **Routes**: Define the endpoints (e.g., `GET /users`).
- **Controllers**: Handle the logic (e.g., fetch users from DB).
- **Models**: Define the database schema (if using MongoDB/Mongoose).

### Example Controller (`controllers/userController.js`)
```javascript
const getUsers = (req, res) => {
  // Logic to fetch users
  res.json({ message: "Get all users" });
};

module.exports = { getUsers };
```

### Example Route (`routes/userRoutes.js`)
```javascript
const express = require('express');
const router = express.Router();
const { getUsers } = require('../controllers/userController');

router.get('/', getUsers);

module.exports = router;
```

## 4. Connecting a Database
Node.js works beautifully with **MongoDB**. using `mongoose`, we can define schemas strictly.
```javascript
const mongoose = require('mongoose');
mongoose.connect(process.env.MONGO_URI);
```

## 5. Middleware & Error Handling
Middleware functions are functions that have access to the request object (`req`), the response object (`res`), and the next function in the applicationâ€™s request-response cycle.
- **Common Middleware**: logging (`morgan`), security (`helmet`), and CORS handling.

## Conclusion
Building an API is just the start. To make it production-ready, you need to consider authentication (JWT), input validation (Joi/Zod), and testing (Jest). But with this foundation, you are well on your way to mastering backend development.
